{"version":3,"sources":["node_modules/tiny-lit/lib/es5/tiny-lit.js","node_modules/tiny-lit/lib/es5/Scheduler.js","node_modules/tiny-lit/lib/es5/Element.js","node_modules/tiny-lit/lib/es5/index.js","src/index.js"],"names":["getType","obj","Array","isArray","ObjectNode","setState","collapsed","json","state","Object","keys","key","index","renderNode","length","customElements","define","is","node","n","JsonViewer"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACTA;;;;;;;;;;;;AAEA,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAClB,WAAOA,QAAQ,IAAR,GAAe,MAAf,GA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","file":"src.9f0ce8df.map","sourceRoot":"..","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * UTILS\n */\nvar parseTemplate = (function () {\n    var templateCache = new Map();\n    var range = document.createRange();\n    return function (html) {\n        if (!templateCache.has(html)) {\n            templateCache.set(html, range.createContextualFragment(html));\n        }\n        return templateCache.get(html).cloneNode(true);\n    };\n})();\nfunction typeCheck(obj, types) {\n    return types.some(function (type) { return obj instanceof type; });\n}\nfunction replaceContent(content, node) {\n    insertBefore(node, content[0]);\n    removeNodes(content);\n    return node;\n}\nfunction removeNodes(nodes) {\n    nodes.forEach(function (node) {\n        if (node.parentNode !== null)\n            node.parentNode.removeChild(node);\n    });\n}\nfunction treeWalkerFilter(node) {\n    return node.__skip ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;\n}\n// fix(IE11): expect filter to be a function and not an object\ntreeWalkerFilter.acceptNode = treeWalkerFilter;\nfunction createTreeWalker(root) {\n    return document.createTreeWalker(root, NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT, treeWalkerFilter, false);\n}\nfunction insertBefore(node, before) {\n    before.parentNode.insertBefore(node, before);\n}\nfunction isTemplateEqual(t1, t2) {\n    return (t1.constructor === t2.constructor &&\n        ((!t1.strings && !t2.strings) ||\n            (t1.strings.length &&\n                t2.strings.length &&\n                t1.strings.every(function (s, i) { return t2.strings[i] === s; }))));\n}\nfunction markerNumber(marker) {\n    return Number(marker.replace(/\\D+/g, ''));\n}\nfunction textNode(text) {\n    if (text === void 0) { text = ''; }\n    return document.createTextNode(text);\n}\nfunction isNode(obj) {\n    return typeCheck(obj, [Element, DocumentFragment, Text]);\n}\nfunction isTemplate(obj) {\n    return typeCheck(obj, [Template, TemplateCollection]);\n}\nfunction createElement(strings, values) {\n    var expressionsMap = new Map();\n    var html = values.reduce(function (html, value, i) {\n        var marker = \"{{__\" + i + \"__}}\";\n        expressionsMap.set(marker, value);\n        html += marker + strings[i + 1];\n        return html;\n    }, strings[0]);\n    var fragment = parseTemplate(html);\n    var expressions = linkExpressions(fragment, expressionsMap);\n    return {\n        fragment: fragment,\n        expressions: expressions,\n    };\n}\nfunction attributesToExpressions(node, expressions, linkedExpressions) {\n    [].forEach.call(node.attributes, function (attr) {\n        if (expressions.has(attr.value)) {\n            linkedExpressions[markerNumber(attr.value)] = new AttributeExpression(node, attr.name);\n        }\n    });\n}\nfunction textsToExpressions(node, linkedExpressions) {\n    var keys = node.data.match(/{{__\\d+__}}/g) || [];\n    keys.map(function (key) {\n        var keyNode = textNode(key);\n        keyNode.__skip = true;\n        node = node.splitText(node.data.indexOf(key));\n        node.deleteData(0, key.length);\n        insertBefore(keyNode, node);\n        linkedExpressions[markerNumber(key)] = new ElementExpression(keyNode);\n    });\n}\nfunction linkExpressions(root, expressions) {\n    var treeWalker = createTreeWalker(root);\n    var linkedExpressions = Array(expressions.size);\n    while (treeWalker.nextNode()) {\n        var node = treeWalker.currentNode;\n        if (node.nodeType === Node.TEXT_NODE) {\n            textsToExpressions(node, linkedExpressions);\n        }\n        else if (node.nodeType === Node.ELEMENT_NODE) {\n            attributesToExpressions(node, expressions, linkedExpressions);\n        }\n    }\n    return linkedExpressions;\n}\nvar Template = /** @class */ (function () {\n    function Template(strings, values) {\n        this.content = [];\n        this.expressions = [];\n        this.key = undefined;\n        this.values = values;\n        this.strings = strings;\n    }\n    Template.prototype.withKey = function (key) {\n        this.key = key;\n        return this;\n    };\n    Template.prototype.update = function (values, force) {\n        for (var i = 0; i < values.length; i++) {\n            if (this.expressions[i] !== undefined)\n                this.expressions[i].update(values[i], force);\n        }\n    };\n    Template.prototype.create = function () {\n        var _a = createElement(this.strings, this.values), fragment = _a.fragment, expressions = _a.expressions;\n        this.expressions = expressions;\n        this.update(this.values, true);\n        this.content = [].slice.call(fragment.childNodes);\n        return fragment;\n    };\n    return Template;\n}());\nexports.Template = Template;\nfunction moveTemplate(template, node) {\n    var currentNode = node;\n    template.content.forEach(function (node) {\n        currentNode.parentNode.insertBefore(node, currentNode.nextSibling);\n        currentNode = node;\n    });\n}\nvar TemplateCollection = /** @class */ (function () {\n    function TemplateCollection(values) {\n        this.values = values;\n        this.templates = new Map();\n    }\n    TemplateCollection.prototype._flushTemplates = function (keys) {\n        var templates = this.templates;\n        templates.forEach(function (template, key, map) {\n            if (keys.indexOf(key) === -1) {\n                removeNodes(template.content);\n                map.delete(key);\n            }\n        });\n    };\n    Object.defineProperty(TemplateCollection.prototype, \"content\", {\n        get: function () {\n            var _a = this, templates = _a.templates, rootNode = _a.rootNode;\n            var nodes = [rootNode];\n            templates.forEach(function (template) {\n                return nodes.push.apply(nodes, template.content);\n            });\n            return nodes;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TemplateCollection.prototype.update = function (items) {\n        var _a = this, rootNode = _a.rootNode, templates = _a.templates;\n        var currentNode = rootNode;\n        var keys = items.reduce(function (keys, item, i) {\n            var key = String(item.key || i);\n            var template = templates.get(key);\n            if (!template) {\n                var node = item.create();\n                currentNode.nextSibling\n                    ? insertBefore(node, currentNode.nextSibling)\n                    : currentNode.parentNode.appendChild(node);\n                templates.set(key, item);\n                template = item;\n            }\n            else if (!isTemplateEqual(template, item)) {\n                replaceContent(template.content, item.create());\n                templates.set(key, item);\n                template = item;\n            }\n            else {\n                template.update(item.values);\n            }\n            if (currentNode.nextSibling !== template.content[0]) {\n                moveTemplate(template, currentNode);\n            }\n            currentNode = template.content[template.content.length - 1];\n            keys.push(key);\n            return keys;\n        }, []);\n        this._flushTemplates(keys);\n    };\n    TemplateCollection.prototype.create = function () {\n        var fragment = document.createDocumentFragment();\n        this.rootNode = textNode();\n        fragment.appendChild(this.rootNode);\n        this.update(this.values);\n        return fragment;\n    };\n    return TemplateCollection;\n}());\nexports.TemplateCollection = TemplateCollection;\nvar AttributeExpression = /** @class */ (function () {\n    function AttributeExpression(element, name) {\n        this.name = name;\n        this.element = element;\n    }\n    AttributeExpression.prototype.update = function (value, force) {\n        var _a = this, name = _a.name, element = _a.element, currentValue = _a.value;\n        if (!force && currentValue === value) {\n            return;\n        }\n        if (typeof value === 'string') {\n            element.setAttribute(name, value);\n        }\n        else {\n            element.hasAttribute(name) && element.removeAttribute(name);\n        }\n        if (value !== undefined || element[name] !== '') {\n            element[name] = value;\n        }\n        // ???\n        currentValue !== undefined &&\n            element.propertyChangedCallback &&\n            element.propertyChangedCallback(name, currentValue, value);\n        this.value = value;\n    };\n    return AttributeExpression;\n}());\nvar ElementExpression = /** @class */ (function () {\n    function ElementExpression(element) {\n        this.element = element;\n        this.value = undefined;\n    }\n    ElementExpression.prototype.update = function (value, force) {\n        var element = this.element;\n        if (value === undefined || value === null) {\n            value = textNode();\n        }\n        else if (!force && value === this.value) {\n            return;\n        }\n        if (isTemplate(element) &&\n            isTemplate(value) &&\n            isTemplateEqual(element, value)) {\n            element.update(value.values);\n        }\n        else if (isNode(value) || isTemplate(value)) {\n            replaceContent(isTemplate(element)\n                ? element.content\n                : [element], isTemplate(value) ? value.create() : value);\n            this.element = value;\n        }\n        else {\n            element.nodeValue = value;\n        }\n        this.value = value;\n    };\n    return ElementExpression;\n}());\nfunction collection(items, callback) {\n    return new TemplateCollection(items.map(callback));\n}\nexports.collection = collection;\nfunction render(template, container) {\n    if (!container.__template) {\n        container.__template = template;\n        container.appendChild(template.create());\n    }\n    else {\n        container.__template.update(template.values);\n    }\n}\nexports.render = render;\nfunction html(strings) {\n    var values = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        values[_i - 1] = arguments[_i];\n    }\n    return new Template(strings, values);\n}\nexports.html = html;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar requestIdleCallback = window.requestIdleCallback ||\n    function (handler, options) {\n        if (options === void 0) { options = {}; }\n        var start = Date.now();\n        return setTimeout(function () {\n            return handler({\n                didTimeout: false,\n                timeRemaining: function () {\n                    return Math.max(0, (options.timeout || 50) - (Date.now() - start));\n                },\n            });\n        }, 1);\n    };\nvar Scheduler = /** @class */ (function () {\n    function Scheduler() {\n        var _this = this;\n        this.tasks = [];\n        this.running = false;\n        this.process = function (deadline) {\n            var tasks = _this.tasks;\n            while ((deadline.timeRemaining() > 0 || deadline.didTimeout) &&\n                tasks.length > 0) {\n                var fn = tasks.shift();\n                fn();\n                fn._scheduled = false;\n            }\n            if (tasks.length > 0) {\n                _this.start();\n            }\n            else {\n                _this.running = false;\n            }\n        };\n    }\n    Scheduler.prototype.start = function () {\n        requestIdleCallback(this.process, {\n            timeout: 100,\n        });\n        this.running = true;\n    };\n    Scheduler.prototype.defer = function (fn) {\n        var _this = this;\n        return function () {\n            if (fn._scheduled === undefined) {\n                // Force first rendering\n                fn._scheduled = false;\n                fn();\n            }\n            else if (!fn._scheduled) {\n                _this.tasks.push(fn);\n                fn._scheduled = true;\n                fn._priority = 0;\n            }\n            else {\n                fn._priority++;\n                _this.tasks.sort(function (a, b) { return b._priority - a._priority; });\n            }\n            if (_this.tasks.length && !_this.running) {\n                _this.start();\n            }\n        };\n    };\n    return Scheduler;\n}());\nexports.Scheduler = Scheduler;\nexports.default = new Scheduler();\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tiny_lit_1 = require(\"./tiny-lit\");\nvar Scheduler_1 = require(\"./Scheduler\");\nfunction withElement(Base) {\n    return /** @class */ (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var _this = _super.call(this) || this;\n            _this.state = {};\n            _this.render = _this.scheduler.defer(_this.render.bind(_this));\n            _this._children = [].slice.call(_this.childNodes);\n            return _this;\n        }\n        Object.defineProperty(class_1.prototype, \"scheduler\", {\n            get: function () {\n                return Scheduler_1.default;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(class_1.prototype, \"slot\", {\n            get: function () {\n                return tiny_lit_1.collection(this._children, function (node) { return tiny_lit_1.html(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\", \"\"], [\"\", \"\"])), node); });\n            },\n            enumerable: true,\n            configurable: true\n        });\n        class_1.prototype.connectedCallback = function () {\n            this.render();\n        };\n        class_1.prototype.setState = function (nextState) {\n            var state = this.state;\n            this.state = __assign({}, state, (typeof nextState === 'function'\n                ? nextState(state, this)\n                : nextState));\n            this.render();\n        };\n        class_1.prototype.getTemplate = function () {\n            throw 'Method not implemented';\n        };\n        class_1.prototype.render = function () {\n            tiny_lit_1.render(this.getTemplate(), this);\n        };\n        return class_1;\n    }(Base));\n}\nexports.withElement = withElement;\nexports.Element = withElement(HTMLElement);\nvar templateObject_1;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tiny_lit_1 = require(\"./tiny-lit\");\nexports.render = tiny_lit_1.render;\nexports.html = tiny_lit_1.html;\nexports.collection = tiny_lit_1.collection;\nvar Element_1 = require(\"./Element\");\nexports.Element = Element_1.Element;\nexports.withElement = Element_1.withElement;\n","import { html, Element, collection } from 'tiny-lit/lib/es5/';\n\nfunction getType(obj) {\n    return obj === null ? 'null' : Array.isArray(obj) ? 'array' : typeof obj;\n}\n\nclass ObjectNode extends Element {\n     static get is() {\n         return 'json-object-node';\n     }\n\n     static define() {\n         customElements.define(ObjectNode.is, ObjectNode);\n     }\n\n     connectedCallback() {\n        this.setState({\n            collapsed: false,\n            json: this.json\n        })\n     }\n\n     getTemplate() {\n         const { json } = this.state;\n\n         return html`<span class=\"bracket\">{</span>\n            <ul>\n                ${collection(Object.keys(json), (key, index) => (\n                    html`\n                    <li>\n                        <span \n                            class=\"key\" \n                            onClick=${() => this.setState({ [key]: !this.state[key] }) }>\n                            \"${key}\"\n                        </span>:\n                        ${this.state[key]\n                            ? html`<span class=\"collapsed\">...</span>` \n                            : html`${renderNode(json[key])}${index < Object.keys(json).length - 1 ? `, `: null}`\n                        }\n                    </li>`\n                ))}\n            </ul>\n            <span class=\"bracket\">}</span>`;\n     }\n}\nObjectNode.define();\n\nfunction renderNode(node) {\n    switch(getType(node)) {\n        case 'null':\n            return 'null';\n        case 'string':\n            return html`<span class=\"string\">\"${node}\"</span>`;\n        case 'number':\n            return html`<span class=\"number\">${node}</span>`;\n        case 'boolean':\n            return html`<span class=\"boolean\">${node}</span>`;\n        case 'array':\n            return html`<span class=\"bracket\">[</span>\n                <ul>\n                    <li>\n                    ${collection(node, (n, index) => (html`${renderNode(n)}${index < node.length - 1 ? html`, `: null}`))}\n                    </li>\n                </ul>\n                <span class=\"bracket\">]</span>`;\n        case 'object':\n            return html`<json-object-node json=${node}></json-object-node>`; \n    }\n}\n\nclass JsonViewer extends Element {\n    state = {\n        json: {\"web-app\": {\n            \"servlet\": [   \n              {\n                  \"test\": null,\n                \"servlet-name\": \"cofaxCDS\",\n                \"servlet-class\": \"org.cofax.cds.CDSServlet\",\n                \"init-param\": {\n                  \"configGlossary:installationAt\": \"Philadelphia, PA\",\n                  \"configGlossary:adminEmail\": \"ksm@pobox.com\",\n                  \"configGlossary:poweredBy\": \"Cofax\",\n                  \"configGlossary:poweredByIcon\": \"/images/cofax.gif\",\n                  \"configGlossary:staticPath\": \"/content/static\",\n                  \"templateProcessorClass\": \"org.cofax.WysiwygTemplate\",\n                  \"templateLoaderClass\": \"org.cofax.FilesTemplateLoader\",\n                  \"templatePath\": \"templates\",\n                  \"templateOverridePath\": \"\",\n                  \"defaultListTemplate\": \"listTemplate.htm\",\n                  \"defaultFileTemplate\": \"articleTemplate.htm\",\n                  \"useJSP\": false,\n                  \"jspListTemplate\": \"listTemplate.jsp\",\n                  \"jspFileTemplate\": \"articleTemplate.jsp\",\n                  \"cachePackageTagsTrack\": 200,\n                  \"cachePackageTagsStore\": 200,\n                  \"cachePackageTagsRefresh\": 60,\n                  \"cacheTemplatesTrack\": 100,\n                  \"cacheTemplatesStore\": 50,\n                  \"cacheTemplatesRefresh\": 15,\n                  \"cachePagesTrack\": 200,\n                  \"cachePagesStore\": 100,\n                  \"cachePagesRefresh\": 10,\n                  \"cachePagesDirtyRead\": 10,\n                  \"searchEngineListTemplate\": \"forSearchEnginesList.htm\",\n                  \"searchEngineFileTemplate\": \"forSearchEngines.htm\",\n                  \"searchEngineRobotsDb\": \"WEB-INF/robots.db\",\n                  \"useDataStore\": true,\n                  \"dataStoreClass\": \"org.cofax.SqlDataStore\",\n                  \"redirectionClass\": \"org.cofax.SqlRedirection\",\n                  \"dataStoreName\": \"cofax\",\n                  \"dataStoreDriver\": \"com.microsoft.jdbc.sqlserver.SQLServerDriver\",\n                  \"dataStoreUrl\": \"jdbc:microsoft:sqlserver://LOCALHOST:1433;DatabaseName=goon\",\n                  \"dataStoreUser\": \"sa\",\n                  \"dataStorePassword\": \"dataStoreTestQuery\",\n                  \"dataStoreTestQuery\": \"SET NOCOUNT ON;select test='test';\",\n                  \"dataStoreLogFile\": \"/usr/local/tomcat/logs/datastore.log\",\n                  \"dataStoreInitConns\": 10,\n                  \"dataStoreMaxConns\": 100,\n                  \"dataStoreConnUsageLimit\": 100,\n                  \"dataStoreLogLevel\": \"debug\",\n                  \"maxUrlLength\": 500}},\n              {\n                \"servlet-name\": \"cofaxEmail\",\n                \"servlet-class\": \"org.cofax.cds.EmailServlet\",\n                \"init-param\": {\n                \"mailHost\": \"mail1\",\n                \"mailHostOverride\": \"mail2\"}},\n              {\n                \"servlet-name\": \"cofaxAdmin\",\n                \"servlet-class\": \"org.cofax.cds.AdminServlet\"},\n           \n              {\n                \"servlet-name\": \"fileServlet\",\n                \"servlet-class\": \"org.cofax.cds.FileServlet\"},\n              {\n                \"servlet-name\": \"cofaxTools\",\n                \"servlet-class\": \"org.cofax.cms.CofaxToolsServlet\",\n                \"init-param\": {\n                  \"templatePath\": \"toolstemplates/\",\n                  \"log\": 1,\n                  \"logLocation\": \"/usr/local/tomcat/logs/CofaxTools.log\",\n                  \"logMaxSize\": \"\",\n                  \"dataLog\": 1,\n                  \"dataLogLocation\": \"/usr/local/tomcat/logs/dataLog.log\",\n                  \"dataLogMaxSize\": \"\",\n                  \"removePageCache\": \"/content/admin/remove?cache=pages&id=\",\n                  \"removeTemplateCache\": \"/content/admin/remove?cache=templates&id=\",\n                  \"fileTransferFolder\": \"/usr/local/tomcat/webapps/content/fileTransferFolder\",\n                  \"lookInContext\": 1,\n                  \"adminGroupID\": 4,\n                  \"betaServer\": true}}],\n            \"servlet-mapping\": {\n              \"cofaxCDS\": \"/\",\n              \"cofaxEmail\": \"/cofaxutil/aemail/*\",\n              \"cofaxAdmin\": \"/admin/*\",\n              \"fileServlet\": \"/static/*\",\n              \"cofaxTools\": \"/tools/*\"},\n           \n            \"taglib\": {\n              \"taglib-uri\": \"cofax.tld\",\n              \"taglib-location\": \"/WEB-INF/tlds/cofax.tld\"}}}\n    }\n\n    static get is() {\n        return 'json-viewer';\n    }\n\n    getTemplate() {\n        return html`\n            <ul>\n                <li>\n                    ${renderNode(this.state.json)}\n                </li>\n            </ul>\n        `\n    }\n}\ncustomElements.define(JsonViewer.is, JsonViewer);"]}